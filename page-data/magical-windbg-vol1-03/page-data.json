{"componentChunkName":"component---src-templates-post-template-js","path":"/magical-windbg-vol1-03","result":{"data":{"markdownRemark":{"id":"2e52ace3-bcbb-5392-a864-9dfacfbca33d","html":"<p>本章では、ダンプファイルの解析を行うにあたり最低限必要となる情報を簡単に紹介しておきます。</p>\n<p>しかし、まえがきに記載の通り、本書では前提となる知識については詳細な解説を行いません。</p>\n<p>詳細については、参考情報として記載している公式ドキュメントや書籍をご確認ください。</p>\n<!-- omit in toc -->\n<h2 id=\"もくじ\" style=\"position:relative;\"><a href=\"#%E3%82%82%E3%81%8F%E3%81%98\" aria-label=\"もくじ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>もくじ</h2>\n<ul>\n<li><a href=\"#%E3%82%AB%E3%83%BC%E3%83%8D%E3%83%AB%E3%83%A2%E3%83%BC%E3%83%89%E3%81%A8%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%83%A2%E3%83%BC%E3%83%89\">カーネルモードとユーザーモード</a></li>\n<li><a href=\"#windows-%E3%81%AE%E3%83%97%E3%83%AD%E3%82%BB%E3%82%B9%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">Windows のプロセスについて</a></li>\n<li><a href=\"#windows-%E3%81%AE%E3%82%B9%E3%83%AC%E3%83%83%E3%83%89%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">Windows のスレッドについて</a></li>\n<li><a href=\"#windows-%E3%81%AE%E5%AE%9F%E8%A1%8C%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%83%E3%83%88%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">Windows の実行ファイルのフォーマットについて</a></li>\n<li><a href=\"#%E4%BB%AE%E6%83%B3%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9va%E7%9B%B8%E5%AF%BE%E4%BB%AE%E6%83%B3%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9rva-%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">仮想アドレス(VA)、相対仮想アドレス(RVA) について</a></li>\n<li><a href=\"#%E3%82%A2%E3%82%BB%E3%83%B3%E3%83%96%E3%83%AA%E8%A8%80%E8%AA%9E%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">アセンブリ言語について</a></li>\n<li><a href=\"#%E3%83%AC%E3%82%B8%E3%82%B9%E3%82%BF%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\">レジスタについて</a></li>\n<li><a href=\"#3-%E7%AB%A0%E3%81%AE%E3%81%BE%E3%81%A8%E3%82%81\">3 章のまとめ</a></li>\n<li><a href=\"#%E5%90%84%E7%AB%A0%E3%81%B8%E3%81%AE%E3%83%AA%E3%83%B3%E3%82%AF\">各章へのリンク</a></li>\n</ul>\n<h2 id=\"カーネルモードとユーザーモード\" style=\"position:relative;\"><a href=\"#%E3%82%AB%E3%83%BC%E3%83%8D%E3%83%AB%E3%83%A2%E3%83%BC%E3%83%89%E3%81%A8%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%83%A2%E3%83%BC%E3%83%89\" aria-label=\"カーネルモードとユーザーモード permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>カーネルモードとユーザーモード</h2>\n<p>Windows を実行するプロセッサでは、ユーザの使用するアプリケーションがシステムの重要なデータに直接アクセスしたり変更したりすることを防ぐ仕組みとして、カーネルモードとユーザーモードの 2 つのモードを使用します。<sup id=\"fnref-1\"><a href=\"#fn-1\" class=\"footnote-ref\">1</a></sup></p>\n<p>通常、OS に組み込まれているシステムサービスやデバイスドライバなどはカーネルモードで実行されます。</p>\n<p>一方で、ブラウザやテキストエディタなど、OS 上で実行するアプリケーションはすべてユーザモードで実行されます。</p>\n<p>ユーザモードで実行されるアプリケーションの実行コードはシステムの重要なリソースに直接アクセスすることができません。</p>\n<p>そのため、メモリやハードディスクなどのハードウェアとの情報のやり取りなどはすべて、カーネルモードで動作するシステムサービスに依存することになります。</p>\n<p>ユーザモードで動作するアプリケーションがメモリやハードディスクにアクセスする必要がある場合、Windows API などの専用のインターフェースを通してカーネルモードで実行されているシステムサービスに処理を要求します。</p>\n<p>このような仕組みによって、万が一アプリケーションの動作に問題や異常が発生した場合にも、OS 自体の稼働継続や、システムの重要なデータなどの保護を実現しています。</p>\n<p>また、ユーザモードでアプリケーションが開始されると、Windows はそのアプリケーションと紐づくプロセスを作成し、それぞれにプライベートな仮想アドレス空間とハンドルテーブルが割り当てられます。</p>\n<p>通常はユーザモードで動作するアプリケーションはプロセスごとに分離されているため、SeDebugPrivilege などの特別な特権が割り当てられていない限り、他のアプリケーションのメモリ領域にアクセスすることはできません。</p>\n<p>一方で、カーネルモードで実行されるコードはすべて単一の仮想アドレス空間を共有します。<sup id=\"fnref-2\"><a href=\"#fn-2\" class=\"footnote-ref\">2</a></sup></p>\n<p>さらに、カーネルモードで実行されるコードは OS そのもの(他の OS コンポーネントやドライバと分離されない)であり、ユーザモードで稼働するすべてのプロセスのメモリ領域にアクセスできます。</p>\n<p>Windows ダンプファイル解析の観点では、解析対象がユーザモードで実行されているかカーネルモードで実行されているかを区別することは非常に重要です。</p>\n<p>ユーザモードで実行されているアプリケーションに関する問題の調査のためには、ユーザモードプロセスの情報を含むダンプファイルを取得する必要があります。</p>\n<p>逆に、解析対象がカーネルモードで実行されているコードの場合には、ユーザモードのプロセスダンプからの調査は困難なため、カーネルモードの情報を含むシステムのフルメモリダンプが必要になります。</p>\n<p>ユーザモードやカーネルモードについて理解するには、プロセッサの仕様や一般的な OS の仕組みについて知ることが有効かと思います。</p>\n<p>Windows についてはほとんど言及されませんが、一般的な OS の仕組みについて知るためには自作 OS 関連の入門書<sup id=\"fnref-3\"><a href=\"#fn-3\" class=\"footnote-ref\">3</a></sup><sup id=\"fnref-4\"><a href=\"#fn-4\" class=\"footnote-ref\">4</a></sup>などが参考になると思います。 </p>\n<p>また、Unix v6<sup id=\"fnref-5\"><a href=\"#fn-5\" class=\"footnote-ref\">5</a></sup> や、教育用に Unix v6 を x86 アーキテクチャに移植した xv6 Unix などの少ないコード量で記述された OS について学ぶ事も理解を助けるかもしれません。</p>\n<h2 id=\"windows-のプロセスについて\" style=\"position:relative;\"><a href=\"#windows-%E3%81%AE%E3%83%97%E3%83%AD%E3%82%BB%E3%82%B9%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\" aria-label=\"windows のプロセスについて permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Windows のプロセスについて</h2>\n<p>Windows におけるプロセスは、プログラムのインスタンスを実行する際に必要なリソースのためのコンテナ(器)と表現されます。<sup id=\"fnref-7\"><a href=\"#fn-7\" class=\"footnote-ref\">7</a></sup></p>\n<p>本書では詳しくは扱いませんが、Windows のプロセスは、主に以下の要素で構成されます。</p>\n<ul>\n<li>プライベートな仮想アドレス空間</li>\n<li>仮想アドレス空間にマッピングされた実行可能プログラム</li>\n<li>ハンドルのリスト</li>\n<li>セキュリティコンテキスト</li>\n<li>ユニークなプロセス ID</li>\n<li>1 つ以上のスレッド</li>\n</ul>\n<p>Windows のプロセスはシステムのアドレス空間に存在するエクゼクティブプロセス(EPROCESS) 構造体で表現されます。</p>\n<p>ただし、ユーザモードアプリケーションからアクセスされるプロセス環境ブロック(PEB) だけは、ユーザモードのアドレス空間に存在します。(つまり、ユーザモードアプリケーションのクラッシュダンプを解析する場合でも、PEB の情報についてはデバッガで参照できます)<sup id=\"fnref-8\"><a href=\"#fn-8\" class=\"footnote-ref\">8</a></sup></p>\n<p>フルメモリダンプの解析を行う場合には、適切なプロセスのコンテキストを指定していく必要があるので、Windows がプロセスの情報をどのように保持しているのかについて理解しておくことは非常に重要です。</p>\n<h2 id=\"windows-のスレッドについて\" style=\"position:relative;\"><a href=\"#windows-%E3%81%AE%E3%82%B9%E3%83%AC%E3%83%83%E3%83%89%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\" aria-label=\"windows のスレッドについて permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Windows のスレッドについて</h2>\n<p>スレッドは、Windows がプロセスと対応するプログラムを実行するために不可欠なオブジェクトです。</p>\n<p>そのため、通常のプロセスは 1 つ以上のスレッドを必ず管理しています。</p>\n<p>スレッドは、実行中のプロセッサの状態に対応した CPU レジスタの情報や、カーネルモードとユーザモードでの実行用に用意された 2 つのスタック、またユニークなスレッド ID などの情報から構成されています。<sup id=\"fnref-9\"><a href=\"#fn-9\" class=\"footnote-ref\">9</a></sup></p>\n<p>Windows のスレッドはエグゼクティブスレッドオブジェクト(ETHREAD) 構造体によって表現され、ETHREAD 構造体の最初のメンバーとしてカーネルスレッド(KTHREAD) 構造体が定義されています。<sup id=\"fnref-10\"><a href=\"#fn-10\" class=\"footnote-ref\">10</a></sup></p>\n<p>トラブルシューティングを行う際には、プロセスの場合と同じく適切な解析対象のスレッドを特定して、デバッガ上でスレッドのコンテキストを指定しながらダンプファイルの解析を進めます。</p>\n<h2 id=\"windows-の実行ファイルのフォーマットについて\" style=\"position:relative;\"><a href=\"#windows-%E3%81%AE%E5%AE%9F%E8%A1%8C%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%83%E3%83%88%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\" aria-label=\"windows の実行ファイルのフォーマットについて permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Windows の実行ファイルのフォーマットについて</h2>\n<p>Windows システムで実行可能なファイル(EXE ファイル)は通常、Portable Executable(PE) というフォーマットで作成されたファイルです。</p>\n<p>Windows のダンプファイルを解析する場合には、この PE ファイルフォーマットでファイルヘッダに埋め込まれている情報や、プログラムの実行時にそれらの情報がどのようにメモリに展開されるのかについてある程度把握しておく必要があります。</p>\n<p>PE ファイルフォーマットでファイルヘッダに埋め込まれている情報の詳細については、以下の公式ドキュメントが参考になります。</p>\n<br>\n<p>PE Format：</p>\n<p><a href=\"https://learn.microsoft.com/ja-jp/windows/win32/debug/pe-format\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://learn.microsoft.com/ja-jp/windows/win32/debug/pe-format</a></p>\n<br>\n<p>PE フォーマットで作成された実行ファイルのファイルヘッダに埋め込まれている情報は、Explorer Suite<sup id=\"fnref-11\"><a href=\"#fn-11\" class=\"footnote-ref\">11</a></sup>に含まれている CFF Explorer や PEStudio<sup id=\"fnref-12\"><a href=\"#fn-12\" class=\"footnote-ref\">12</a></sup> などのツールで簡単に確認できます。</p>\n<p>例えば、本書で使用する実行ファイル D4C.exe を CFF Explorer で解析すると以下の情報を得ることができます。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/539feec38540061dacd358354e3b97f4/0b533/peformet-cff-01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB8ElEQVQoz62SX4+aQBTF+f5fwvjSraBPbZo0rY3UVdvlzyqCDGsZURAQXMVSt9km6+lldjXG7EuT3uTkToY7v7lnLtLdlIMHIXy+wCq/R/Fzj6J8wLbKr2j7inZUf5QUzBeI4wxFUYB5ATabDRYLgq8ypEmCNE2e88s6zxKsSfmKcp4iW8WIovAkacomCDhHudtSUYb5jEO70bFe38PzPIxtG0EQwPd9zOmizjcbt2yJjx0NXY1hYDLIsoxmswlFaUL6NLDRvnGw2D5i/Qdw+RK2ZWE2e4a4jCEMQwGNoiV9TxFme3wfeujpLtS+iUajIaCVpNGPFL1bBs32sSwe4fEQ/etrjK0xHNvBcDgST8BcRpZTeOToV7lDMPPF2jQ0AVIURUiK5y6mZG2VxqgiTWIqMgngYjKZCEVRBO5zJEmK6s33D7+pe07de9B1Q3R4AnpjFZo+FIeqqOx1v3Zhj21YZN0wDDCy7TgODe0OnwcMvVGId20T7zsWPnRM6vAMOLF0GKYpOnl6OojDtVoNzVZLFBxvP9p6c9XA1VuFJIvckGkY4v0UIUkbfEFHVcXvUoVLVuv1OloEPEIus6Kc5Qp22qOh6P02VLUrpngJPNo4l3yWT+vzoey2a+R5jrIsBbCyftnhv0jCSxwOh/8C/AsHOiydMQ5NcgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/539feec38540061dacd358354e3b97f4/8ac56/peformet-cff-01.webp 240w,\n/static/539feec38540061dacd358354e3b97f4/d3be9/peformet-cff-01.webp 480w,\n/static/539feec38540061dacd358354e3b97f4/b0a15/peformet-cff-01.webp 500w\"\n              sizes=\"(max-width: 500px) 100vw, 500px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/539feec38540061dacd358354e3b97f4/8ff5a/peformet-cff-01.png 240w,\n/static/539feec38540061dacd358354e3b97f4/e85cb/peformet-cff-01.png 480w,\n/static/539feec38540061dacd358354e3b97f4/0b533/peformet-cff-01.png 500w\"\n            sizes=\"(max-width: 500px) 100vw, 500px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/539feec38540061dacd358354e3b97f4/0b533/peformet-cff-01.png\"\n            alt=\"CFF Explorer で PE ファイルのヘッダ情報を参照する\"\n            title=\"CFF Explorer で PE ファイルのヘッダ情報を参照する\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>また、PEStudito で D4C.exe を解析した場合も、以下のように PE ファイルヘッダに埋め込まれている情報を参照できます。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/97d5230ea9588accfa58300f64ca0da6/0b533/peformet-pestudio-01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 65.83333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACG0lEQVQ4y2VTSY7bQAzU/w/5SoJ8IHNKAMOegxfZ1upA8qp9t7xVWMzI8SAEiG6xqepikW3MgwjH3Q6n0wlFXiLLcxRFKfsCVVnpmiYp0jTVlWePx0OdNuwHNzaeB2u1hGdbArzHXsDTLEMuwHEcC0Chzu9M4onEkiTRNYoijdF5IVcjzXJEQYA0DJCIl2mG+/2hCW8/3vA+eYdlWfB9H47jYDwe695arzEajWCapvp0OkUYhjCqssTc8jExfay84FlKVVVYmkuYC1OZ0q7XK/Iilwvv6LpOGbaytk2DRvx8PsM4S+DrTwdfvs/w7ZeLrqn057qu4Vg2ttudAtFut5vGeSljbdvi1VRD3rDxN9oYiWi5tKZu4DkufNdHHMXo+16ZkTlzbgLYdWcFYXxwg1QTYVEejs9bBoYrKdkVUAKyKSypFInuknO5XBT8P0D+SC0SaUbT/CuB2i5FP9d2sQ23OOwPKGVk6lpA5Pwu5VPHVxJaciOA7u8QuyhDf+6eh2QeBqECHYU9SyYAR4gr9WMO43Sy52qkwizwLDTpEbe2kJv/NoA/TsYTzOdzeDKrHBW6bdtwXdFWYovFQs9ns5mODqdBNKxVi8vlyp580nC9XOnrGEqjlWWheVfJ9zxfWVFP6kczOAovff80hwRMBLAVbRlnLl9DLwAEIaNhpO6Pj6YMgdf3SCOrJE60w9RKMp4D3X8w4n5gN/gfjInfg2AJvvwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/97d5230ea9588accfa58300f64ca0da6/8ac56/peformet-pestudio-01.webp 240w,\n/static/97d5230ea9588accfa58300f64ca0da6/d3be9/peformet-pestudio-01.webp 480w,\n/static/97d5230ea9588accfa58300f64ca0da6/b0a15/peformet-pestudio-01.webp 500w\"\n              sizes=\"(max-width: 500px) 100vw, 500px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/97d5230ea9588accfa58300f64ca0da6/8ff5a/peformet-pestudio-01.png 240w,\n/static/97d5230ea9588accfa58300f64ca0da6/e85cb/peformet-pestudio-01.png 480w,\n/static/97d5230ea9588accfa58300f64ca0da6/0b533/peformet-pestudio-01.png 500w\"\n            sizes=\"(max-width: 500px) 100vw, 500px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/97d5230ea9588accfa58300f64ca0da6/0b533/peformet-pestudio-01.png\"\n            alt=\"PEStudio で PE ファイルのヘッダ情報を参照する\"\n            title=\"PEStudio で PE ファイルのヘッダ情報を参照する\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>これらのヘッダ情報は、Windows システム内で実行される際にプロセスのメモリに以下の順序で展開されます。<sup id=\"fnref-13\"><a href=\"#fn-13\" class=\"footnote-ref\">13</a></sup></p>\n<ol>\n<li>ファイルヘッダから DOS ヘッダ、PE ヘッダ、セクションヘッダの情報を読み出す。</li>\n<li>セクションヘッダの情報を使用し、実行プロセスのために確保したアドレス空間にファイルの各セクションをマップしていく。</li>\n<li>インポートセクション内の DLL のリストを参照し、未ロードの DLL がある場合はシステムにロードする。</li>\n<li>インポートセクション内のインポートシンボルを解決する。</li>\n<li>PE ヘッダの情報からスタックとヒープを作成し、初期スレッドを生成してプロセスを起動する。</li>\n</ol>\n<p>本書では詳しい解説は行いませんが、ダンプファイルの解析を行う際には、上記のようなプログラム実行時に PE ファイルの情報をプロセスのメモリ領域にロードする流れを把握しておくと良いと思います。</p>\n<h2 id=\"仮想アドレスva相対仮想アドレスrva-について\" style=\"position:relative;\"><a href=\"#%E4%BB%AE%E6%83%B3%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9va%E7%9B%B8%E5%AF%BE%E4%BB%AE%E6%83%B3%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9rva-%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\" aria-label=\"仮想アドレスva相対仮想アドレスrva について permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>仮想アドレス(VA)、相対仮想アドレス(RVA) について</h2>\n<p>前述の通り、Windows システム内で実行されたプログラムの情報は、各プログラムごとに割り当てられたプロセスのメモリ領域に展開されます。</p>\n<p>この時に各プログラムごとに割り当てられる連続したメモリ領域を「仮想アドレス領域(仮想メモリ)」と呼びます。<sup id=\"fnref-14\"><a href=\"#fn-14\" class=\"footnote-ref\">14</a></sup></p>\n<p>Windows の 64 bit プロセスには、仮想アドレス領域として 0x00000000000 から 0x7FFFFFFFFFFF までの 128 TB 分の仮想アドレス領域が割り当てられます。</p>\n<p>OS がこのような仕組みを用いる利点はいくつかありますが、物理メモリ上では連続していないメモリ領域に対して一連のアドレス範囲としてアクセスすることができる点や、プログラムのコードの再配置が容易になる点などがあります。</p>\n<p>また、上記の利点を活かして OS 内で複数のアプリケーションを並列稼働させることができる点や、プロセスごとにメモリ空間を分離できる点なども仮想メモリを利用する利点です。<sup id=\"fnref-15\"><a href=\"#fn-15\" class=\"footnote-ref\">15</a></sup></p>\n<p>Windows でプログラムを実行した場合、実行コードはプロセスの仮想メモリ領域に展開されますが、展開された実行コードに対しては仮想アドレス(VA)を通してアクセスできます。</p>\n<p>仮想メモリは OS によって物理メモリおよびページにマッピングされているため、アクセスされた仮想アドレスは OS によって物理メモリ内のアドレスに変換されます。<sup id=\"fnref-16\"><a href=\"#fn-16\" class=\"footnote-ref\">16</a></sup></p>\n<p>ちなみに、仮想アドレス(VA)とは、PE ファイルをプロセスメモリに展開した際のアドレスである相対仮想アドレス(RVA)に、プロセスごとに割り当てられた読み込み先のイメージベースアドレスを足したアドレスです。<sup id=\"fnref-17\"><a href=\"#fn-17\" class=\"footnote-ref\">17</a></sup></p>\n<p>イメージベースアドレスは通常、プロセスの実行ごとにアドレス空間ランダム化(ASLR)の仕組みによって異なるアドレスが割り当てられるため、仮想アドレス(VA)も毎回異なる点に注意が必要です。</p>\n<p>例えば、同じプログラムを複数回実行してそれぞれのプロセスダンプを取得した場合、各ダンプファイルで同じアドレスを指定しても異なる情報が表示されることがあります。</p>\n<p>これは、WinDbg でプロセスダンプをロードした際に表示されるアドレスが仮想アドレス(VA)であるためです。</p>\n<p>そのため、ダンプファイルの解析を行う場合には、仮想アドレス(VA)からイメージベースアドレスを引いて相対仮想アドレス(RVA)を求めた上で、<code class=\"language-text\">&lt;モジュール名> + RVA</code> などのようにして相対オフセットを利用して解析を行うことをおすすめします。</p>\n<h2 id=\"アセンブリ言語について\" style=\"position:relative;\"><a href=\"#%E3%82%A2%E3%82%BB%E3%83%B3%E3%83%96%E3%83%AA%E8%A8%80%E8%AA%9E%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\" aria-label=\"アセンブリ言語について permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>アセンブリ言語について</h2>\n<p>前述の通り、実行ファイル(PE ファイル)で定義された実行コードを含む情報は、プログラムの実行時にプロセスに割り当てられた一連の仮想メモリ領域内に展開されます。</p>\n<p>WinDbg でアプリケーションのプロセスダンプを解析する場合、展開された実行コードのディスアセンブル結果を参照することが可能です。</p>\n<p>本書ではアセンブリ言語については扱いませんが、皆さんが実際に自分でダンプファイルの解析を行う際には、アセンブリ言語から実行コードの処理を読み解く必要があるかと思います。</p>\n<p>x64 アーキテクチャのアセンブリ言語については入門にちょうどよい、平易で質の高い入門書が複数ありますので、注釈にて紹介しておきます。<sup id=\"fnref-18\"><a href=\"#fn-18\" class=\"footnote-ref\">18</a></sup><sup id=\"fnref-19\"><a href=\"#fn-19\" class=\"footnote-ref\">19</a></sup><sup id=\"fnref-20\"><a href=\"#fn-20\" class=\"footnote-ref\">20</a></sup></p>\n<p>また、より詳しく学びたい場合には「大熱血！ アセンブラ入門」<sup id=\"fnref-21\"><a href=\"#fn-21\" class=\"footnote-ref\">21</a></sup> などもおすすめです。</p>\n<h2 id=\"レジスタについて\" style=\"position:relative;\"><a href=\"#%E3%83%AC%E3%82%B8%E3%82%B9%E3%82%BF%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\" aria-label=\"レジスタについて permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>レジスタについて</h2>\n<p>レジスタとは、CPU の内部にある記憶領域です。</p>\n<p>メモリやストレージと比較して保存できる情報が極めて小さい一方で、CPU から非常に高速にアクセスすることができるため、一時的な情報や何らかの演算結果などの情報が保存されます。</p>\n<p>WinDbg でデバッグやダンプファイルの解析を行う際には頻繁にレジスタの情報を確認することになります。</p>\n<p>また、前項のアセンブリを読み解く際にも、レジスタに関する知識が不可欠になります。</p>\n<p>本書ではレジスタについては詳しくは扱いませんが、ダンプファイルを解析する上で最低限必要な汎用レジスタの種類や主な用途について記載します。<sup id=\"fnref-22\"><a href=\"#fn-22\" class=\"footnote-ref\">22</a></sup></p>\n<ul>\n<li>アキュムレータ(RAX/EAX/AX/AL/AH)：様々な演算に使用する。x64 呼び出し規約では関数の戻り値が格納される<sup id=\"fnref-23\"><a href=\"#fn-23\" class=\"footnote-ref\">23</a></sup>点も重要。</li>\n<li>ベースレジスタ(RBX/EBX/BX/BL/BH)：アドレス指定などによく使用する。</li>\n<li>カウントレジスタ(RCX/ECX/CX/CL/CH)：ループやシフトローテートの命令によく使用される。x64 呼び出し規約では関数 Call 時の第一引数が格納される<sup id=\"fnref-23\"><a href=\"#fn-23\" class=\"footnote-ref\">23</a></sup>点も重要。</li>\n<li>データレジスタ(RDX/EDX/DX/DL/DH)：演算などによく使用する。x64 呼び出し規約では関数 Call 時の第二引数が格納される<sup id=\"fnref-23\"><a href=\"#fn-23\" class=\"footnote-ref\">23</a></sup>点も重要。</li>\n<li>ソースインデックスレジスタ(RSI/ESI/SI)：ストリーム操作によるデータ転送などで、入力元のポインタを指すためによく使用する。</li>\n<li>ディスティネーションインデックスレジスタ(RDI/EDI/DI)：ストリーム操作によるデータ転送などで、出力先のポインタを指すためによく使用する。</li>\n<li>スタックポインタ(RSP/ESP/SP)：スタックのトップを指すポインタが格納される。スレッドのスタックを参照したい場合によく使用する。</li>\n<li>ベースポインタ(RBP/EBP/BP)：スタックのベースを指すポインタが格納される。コールスタックの追跡などに重要。</li>\n<li>インストラクションポインタ(RIP/EIP/IP)：命令ポインタであり、次に実行する命令のアドレスが格納される。</li>\n<li>ステータスフラグ(EFLAGS)：操作の結果などのステータスを格納するために使用。例えば、条件分岐の比較結果の格納などにも使用される。</li>\n</ul>\n<p>ちなみに、アキュムレータレジスタなど、いくつかのレジスタには RAX、EAX、AX などの複数の名称を記載していますが、これはレジスタに対するアクセス方法を意味しています。</p>\n<p>例えば、x64 アーキテクチャの CPU の場合アキュムレータレジスタには 64 bit 分のデータを格納でき、RAX に対してアクセスすることで 64 bit 分の領域すべてにアクセスできます。</p>\n<p>一方で、アキュムレータレジスタに EAX としてアクセスする場合、64 bit 分のデータを格納できるアキュムレータレジスタの下位 32 bit 分の領域のみにアクセスすることを意味します。</p>\n<p>さらに、AX は下位 16 bit 分の領域へのアクセスを意味し、AL は AX の指す 16 bit 分の領域のうちの下位(LSB 側) 8 bit、AH は上位(MSB 側) 8 bit へのアクセスを意味します。</p>\n<h2 id=\"3-章のまとめ\" style=\"position:relative;\"><a href=\"#3-%E7%AB%A0%E3%81%AE%E3%81%BE%E3%81%A8%E3%82%81\" aria-label=\"3 章のまとめ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3 章のまとめ</h2>\n<p>この章では、Windows ダンプ解析の前提となる最低限の前提知識について紹介しました。</p>\n<p>ダンプファイルを解析するためには、レジスタや仮想メモリ、プロセスやスレッドなどの OS や CPU に関するものに加えて、PE ファイルフォーマットやアセンブリ言語などのプログラムに関するものなど、一般に難解とされる領域に関する幅広い知識が必要になります。</p>\n<p>しかし、これらのダンプファイルの解析に必要な前提知識は非常に広範であるため、本章では十分に網羅することはできませんでした。</p>\n<p>このような必要となる前提知識の幅広さや多さは、そのままダンプファイル解析のハードルの高さと言っても過言ではないと思います。</p>\n<p>しかし、本書ではこれからダンプファイルの解析に取り組む方に、少しでもダンプファイルの解析を身近に感じてもらえるよう、4 章以降で解説するダンプファイルの解析では可能な限り必要とする前提知識を排除する構成としています。</p>\n<p>そのため、もし本章で紹介した項目について十分に理解できていないと感じる場合でも、ぜひ 4 章以降の内容を読み進めていただいて構いません。</p>\n<p>解析に必要な知識はダンプファイルを読み進める中で段々と身に付いていくかと思いますので、まずは解析を楽しんでいきましょう。</p>\n<h2 id=\"各章へのリンク\" style=\"position:relative;\"><a href=\"#%E5%90%84%E7%AB%A0%E3%81%B8%E3%81%AE%E3%83%AA%E3%83%B3%E3%82%AF\" aria-label=\"各章へのリンク permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>各章へのリンク</h2>\n<ul>\n<li><a href=\"/magical-windbg-vol1-00\">まえがき</a></li>\n<li><a href=\"/magical-windbg-vol1-01\">1 章 環境構築</a></li>\n<li><a href=\"/magical-windbg-vol1-02\">2 章 WinDbg の基本操作</a></li>\n<li><a href=\"/magical-windbg-vol1-03\">3 章 解析に必要な前提知識</a></li>\n<li><a href=\"/magical-windbg-vol1-04\">4 章 アプリケーションのクラッシュダンプを解析する</a></li>\n<li><a href=\"/magical-windbg-vol1-05\">5 章 システムクラッシュ時のフルメモリダンプを解析する</a></li>\n<li><a href=\"/magical-windbg-vol1-06\">6 章 プロセスダンプからユーザモードアプリケーションのメモリリーク事象を調査する</a></li>\n<li><a href=\"/magical-windbg-vol1-07\">7 章 フルメモリダンプからユーザモードメモリリーク事象を調査する</a></li>\n<li><a href=\"/magical-windbg-vol1-50\">付録 A WinDbg の Tips</a></li>\n<li><a href=\"/magical-windbg-vol1-51\">付録 B Volatility 3 でクラッシュダンプを解析する</a></li>\n</ul>\n<div class=\"footnotes\">\n<hr>\n<ol>\n<li id=\"fn-1\">\n<p>インサイド Windows 第 7 版 上 P.25 (Pavel Yosifovich, Alex Ionescu, Mark E. Russinovich, David A. Solomon 著 / 山内 和朗 訳 / 日系 BP 社 / 2018 年) </p>\n<a href=\"#fnref-1\" class=\"footnote-backref\">↩</a>\n</li>\n<li id=\"fn-2\">\n<p>ユーザーモードとカーネルモード <a href=\"https://learn.microsoft.com/ja-jp/windows-hardware/drivers/gettingstarted/user-mode-and-kernel-mode\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://learn.microsoft.com/ja-jp/windows-hardware/drivers/gettingstarted/user-mode-and-kernel-mode</a></p>\n<a href=\"#fnref-2\" class=\"footnote-backref\">↩</a>\n</li>\n<li id=\"fn-3\">\n<p>ゼロからの OS 自作入門 ( 内田 公太 著 / マイナビ出版 / 2021 年)</p>\n<a href=\"#fnref-3\" class=\"footnote-backref\">↩</a>\n</li>\n<li id=\"fn-4\">\n<p>作って理解するOS x86系コンピュータを動かす理論と実装 (林 高勲 著 / 川合 秀実 監修 / 技術評論社 / 2019 年 )</p>\n<a href=\"#fnref-4\" class=\"footnote-backref\">↩</a>\n</li>\n<li id=\"fn-5\">\n<p>はじめてのOSコードリーディング ~UNIX V6で学ぶカーネルのしくみ (青柳 隆宏 著 / 技術評論社 / 2013 年)</p>\n<a href=\"#fnref-5\" class=\"footnote-backref\">↩</a>\n</li>\n<li id=\"fn-6\">\n<p>Xv6, a simple Unix-like teaching operating system <a href=\"https://pdos.csail.mit.edu/6.828/2012/xv6.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://pdos.csail.mit.edu/6.828/2012/xv6.html</a></p>\n<a href=\"#fnref-6\" class=\"footnote-backref\">↩</a>\n</li>\n<li id=\"fn-7\">\n<p>インサイド Windows 第 7 版 上 P.9 (Pavel Yosifovich, Alex Ionescu, Mark E. Russinovich, David A. Solomon 著 / 山内 和朗 訳 / 日系 BP 社 / 2018 年)</p>\n<a href=\"#fnref-7\" class=\"footnote-backref\">↩</a>\n</li>\n<li id=\"fn-8\">\n<p>インサイド Windows 第 7 版 上 P.115 (Pavel Yosifovich, Alex Ionescu, Mark E. Russinovich, David A. Solomon 著 / 山内 和朗 訳 / 日系 BP 社 / 2018 年)</p>\n<a href=\"#fnref-8\" class=\"footnote-backref\">↩</a>\n</li>\n<li id=\"fn-9\">\n<p>インサイド Windows 第 7 版 上 P.19 (Pavel Yosifovich, Alex Ionescu, Mark E. Russinovich, David A. Solomon 著 / 山内 和朗 訳 / 日系 BP 社 / 2018 年)</p>\n<a href=\"#fnref-9\" class=\"footnote-backref\">↩</a>\n</li>\n<li id=\"fn-10\">\n<p>インサイド Windows 第 7 版 上 P.210 (Pavel Yosifovich, Alex Ionescu, Mark E. Russinovich, David A. Solomon 著 / 山内 和朗 訳 / 日系 BP 社 / 2018 年)</p>\n<a href=\"#fnref-10\" class=\"footnote-backref\">↩</a>\n</li>\n<li id=\"fn-11\">\n<p>Explorer Suite <a href=\"https://ntcore.com/?page_id=388\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://ntcore.com/?page_id=388</a></p>\n<a href=\"#fnref-11\" class=\"footnote-backref\">↩</a>\n</li>\n<li id=\"fn-12\">\n<p>PEStudio <a href=\"https://www.winitor.com/download\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.winitor.com/download</a></p>\n<a href=\"#fnref-12\" class=\"footnote-backref\">↩</a>\n</li>\n<li id=\"fn-13\">\n<p>Linkers &#x26; Loaders P.82 (JohnR. Levine 著 / 榊原 一矢, ポジティブエッジ 訳 / オーム社 / 2001 年)</p>\n<a href=\"#fnref-13\" class=\"footnote-backref\">↩</a>\n</li>\n<li id=\"fn-14\">\n<p>仮想アドレス領域 <a href=\"https://learn.microsoft.com/ja-jp/windows-hardware/drivers/gettingstarted/virtual-address-spaces\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://learn.microsoft.com/ja-jp/windows-hardware/drivers/gettingstarted/virtual-address-spaces</a></p>\n<a href=\"#fnref-14\" class=\"footnote-backref\">↩</a>\n</li>\n<li id=\"fn-15\">\n<p>コンピュータアーキテクチャのエッセンス 第2版 P.247 (Douglas E. Comer 著 / 吉川 邦夫 訳 / 翔泳社 / 2020 年)</p>\n<a href=\"#fnref-15\" class=\"footnote-backref\">↩</a>\n</li>\n<li id=\"fn-16\">\n<p>インサイド Windows 第 7 版 上 P.408 (Pavel Yosifovich, Alex Ionescu, Mark E. Russinovich, David A. Solomon 著 / 山内 和朗 訳 / 日系 BP 社 / 2018 年) </p>\n<a href=\"#fnref-16\" class=\"footnote-backref\">↩</a>\n</li>\n<li id=\"fn-17\">\n<p>PE フォーマット <a href=\"https://learn.microsoft.com/ja-jp/windows/win32/debug/pe-format\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://learn.microsoft.com/ja-jp/windows/win32/debug/pe-format</a></p>\n<a href=\"#fnref-17\" class=\"footnote-backref\">↩</a>\n</li>\n<li id=\"fn-18\">\n<p>詳解セキュリティコンテスト CTF で学ぶ脆弱性攻略の技術 (梅内 翼, 清水 祐太郎, 藤原 裕大, 前田 優人, 米内 貴志, 渡部 裕 著 / マイナビ出版 / 2021 年)</p>\n<a href=\"#fnref-18\" class=\"footnote-backref\">↩</a>\n</li>\n<li id=\"fn-19\">\n<p>デバッガによるx86プログラム解析入門 x64 対応版 (Digital Travesia管理人 うさぴょん 著 / 集和システム / 2018 年)</p>\n<a href=\"#fnref-19\" class=\"footnote-backref\">↩</a>\n</li>\n<li id=\"fn-20\">\n<p>リバースエンジニアリングツール Ghidra 実践ガイド セキュリティコンテスト入門からマルウェア解析まで (中島 将太, 小竹 泰一, 原 弘明, 川畑 公平 著 / マイナビ出版 / 2020 年)</p>\n<a href=\"#fnref-20\" class=\"footnote-backref\">↩</a>\n</li>\n<li id=\"fn-21\">\n<p>大熱血！ アセンブラ入門 (坂井弘亮 著 / 秀和システム / 2017 年)</p>\n<a href=\"#fnref-21\" class=\"footnote-backref\">↩</a>\n</li>\n<li id=\"fn-22\">\n<p>デバッガによるx86プログラム解析入門 x64 対応版 P.33 (Digital Travesia管理人 うさぴょん 著 / 集和システム / 2018 年)</p>\n<a href=\"#fnref-22\" class=\"footnote-backref\">↩</a>\n</li>\n<li id=\"fn-23\">\n<p>x64 での呼び出し規則 <a href=\"https://learn.microsoft.com/ja-jp/cpp/build/x64-calling-convention?view=msvc-170\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://learn.microsoft.com/ja-jp/cpp/build/x64-calling-convention?view=msvc-170</a></p>\n<a href=\"#fnref-23\" class=\"footnote-backref\">↩</a>\n</li>\n</ol>\n</div>","fields":{"slug":"/magical-windbg-vol1-03","tagSlugs":["/tag/magical-win-dbg/","/tag/windows/","/tag/win-dbg/"]},"frontmatter":{"date":"2023-11-15","description":"技術書典 15 で頒布した Magical WinDbg -雰囲気で楽しむ Windows ダンプ解析とトラブルシューティング- VOL.1 の WEB 版です。","tags":["Magical WinDbg","Windows","WinDbg"],"title":"Magical WinDbg VOL.1【3 章 解析に必要な前提知識】","socialImage":{"publicURL":"/static/2dbf3e09d59db889dc9dc41adcc8e827/magical-windbg-vol1.png"}}}},"pageContext":{"slug":"/magical-windbg-vol1-03"}},"staticQueryHashes":["251939775","401334301","825871152"]}